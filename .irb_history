exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
target_url_array
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
price[0]
Ingredient.find_by(name: price[1])
price[2]
price[3].to_f
Unit.find_by(unit: price[4])
(price[2].to_i / (price[3].to_f * IngredientUnit.includes(:ingredient, :unit).find_by(ingredient: { name: price[1] }, unit: { unit: price[4] }).ratio)).round(4)
IngredientUnit.includes(:ingredient, :unit).find_by(ingredient: { name: price[1] }, unit: { unit: price[4] }).ratio)).round(4)
IngredientUnit.includes(:ingredient, :unit)
IngredientUnit.includes(:ingredient, :unit).find_by(ingredient: { name: price[1] })
price[4]
exit
exit
exit
exit
exit
exit
(price[2].to_i / (price[3].to_f * IngredientUnit.includes(:ingredient, :unit).find_by(ingredient: { name: price[1] }, unit: { unit: price[4] }).ratio)).round(4)
price[4]
price[1]
exit
exit
exit
synonym
exit
synonym
exit
exit
synonym
exit
synonym
exit
synonym
exit
synonym
exit
synonym
exit
synonym
exit
synonym
exit
synonym
exit
synonym
exit
synonym
exit
synonym
node.css('.recipe_material__item_name').text.strip.match(/[^一-龠ぁ-んァ-ヶーｦ-ﾟ]*([一-龠ぁ-んァ-ヶーｦ-]*)[^一-龠ぁ-んァ-ヶーｦ-ﾟ]*/)
node.css('.recipe_material__item_name').text.strip.match(/[^一-龠ぁ-んァ-ヶーｦ-ﾟ]*([一-龠ぁ-んァ-ヶーｦ-]*)[^一-龠ぁ-んァ-ヶーｦ-ﾟ]*/)[1]
synonym
synonym = node.css('.recipe_material__item_name').text.strip.match(/[^一-龠ぁ-んァ-ヶーｦ-ﾟ]*([一-龠ぁ-んァ-ヶーｦ-]*)[^一-龠ぁ-んァ-ヶーｦ-ﾟ]*/)[1]
synonym
quantity_unit = full_to_half(node.css('.recipe_material__item_serving').text.strip)
Synonym.find_by(name: synonym)
ingredient = Ingredient.includes(:synonyms).find_by(synonyms: { name: synonym } ).name
!(/[0-9.]+/.match(quantity_unit))
/([大小]+[さじ]*[匙]*)([0-9.\/]*)[~〜]*[0-9.\/]*/.match(quantity_unit)
/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/.match(quantity_unit)
quantity_unit.match(/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/)[2] = ""
quantity_unit = full_to_half(node.css('.recipe_material__item_serving').text.strip)
quantity_unit.match(/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/)[2] = ""
quantity_unit.match(/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/)[2]
"" = quantity_unit.match(/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/)[2]
"" = quantity_unit.match(/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/)[2] ==  ""
quantity_unit.match(/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/)[2] == ""
/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/.match(quantity_unit)
quantity_unit = quantity_unit.match(/[(]+([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*[)]+)/)
quantity_unit
quantity_unit = full_to_half(node.css('.recipe_material__item_serving').text.strip)
/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/.match(quantity_unit)
quantity_unit
quantity_unit = quantity_unit.match(/[(]+([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*[)]+)/)
quantity_unit
quantity_unit = full_to_half(node.css('.recipe_material__item_serving').text.strip)
quantity_unit.match(/[.]*[(]+([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*[)]+)/)
quantity_unit.match(/[.]*[(]+([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*[)]+)/)
quantity_unit
quantity_unit.match(/[.]*[\(]+([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*[\)]+)/)
quantity_unit.match(/([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)/)
quantity_unit.match(/\(([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)\)/)
quantity_unit.match(/(.*?)/)
quantity_unit.match(/（.*?）/)
quantity_unit = full_to_half(node.css('.recipe_material__item_serving').text.strip)
quantity_unit = quantity_unit.match(/\(([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)\)/)
quantity_unit.match(/[\(]+([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)[\)]+/)
quantity_unit
quantity_unit = full_to_half(node.css('.recipe_material__item_serving').text.strip)
quantity_unit.match(/[\(]+([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)[\)]+/)
quantity_unit.match(/\(([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)\)/)
quantity_unit.match(/\(([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)\)/)
quantity_unit = full_to_half(node.css('.recipe_material__item_serving').text.strip)
quantity_unit.match(/\(([0-9.\/]+)[~～]*[0-9.\/]*([個本コこヶ缶片袋杯膳束合枚鞘房握玉つ人食切匹尾株枚斤半玉ケ丁粒箱a-zA-Z|グラム|つかみ|つまみ｜ｸﾞﾗﾑ|カップ|パック|かけ|センチ|カケ|リットル|回し|まい|節|カット|]*)\)/)
quantity_unit
synonym
exit
synonym
exit
synonym
synonym
exit
synonym
exit
synonym
exit
synonym
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
exit
Recipe.find_by(price_id: 100000)
FoodCost.find_by(price_id: 100000)
FoodCost.where(price_id: 100000)
exit
FoodCost.where(price_id: 100000)
git diff
exit
